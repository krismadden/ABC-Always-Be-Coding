<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.sound.min.js"></script>

<style type="text/css">body{ margin: 0;}</style>

<script>

//generated with this sketch from illustrator: https://editor.p5js.org/krismadden/sketches/MYI-EFtZT

let xpos0 = [58.3, 58.284374, 57.909374, 56.784374, 54.534374, 52.8, 51.1, 49.0, 47.1, 46.1, 44.8, 43.1, 42.0, 41.199997, 40.725, 40.237495, 40.199997, 40.249996, 40.6, 40.949997, 41.399998, 42.399998, 43.6, 44.35, 45.0, 46.0, 46.7, 47.1, 47.2, 51.8, 57.399998, 57.35937, 56.57656, 55.095306, 53.074997, 51.899998, 50.25, 48.499996, 45.899994, 43.299995, 41.849995, 40.499996, 38.090622, 34.040623, 31.115623, 29.842968, 29.435154, 29.399996, 29.406246, 29.781246, 31.131245, 33.20781, 35.17656, 36.399994, 37.949993, 39.699993, 44.199993, 45.92499, 47.22812, 47.574997, 47.599995, 47.54062, 46.89843, 45.754684, 44.249992, 43.399994, 42.296867, 40.651558, 39.620308, 39.137497, 39.099995, 28.8, 28.833593, 29.218554, 30.401562, 33.04531, 36.574997, 38.6, 27.3, 21.599998, 21.599998, 17.3, 18.762499, 21.125, 21.9, 22.3125, 22.762499, 22.8, 22.7125, 21.7375, 20.9, 19.95, 18.8, 17.55, 16.199999, 15.049999, 13.999999, 12.549999, 11.4, 10.549999, 9.5, 9.4, 9.4625, 10.174999, 10.799999, 11.624999, 13.8375, 15.099999, 10.799999, 10.799999, 10.799999, 10.799999, 10.799999, 4.0, 0.0, -9.1, -9.1, -8.990625, -8.170313, -7.333594, -6.283594, -5.0531254, -3.6750007, -2.1820319, -1.4000006, -0.5000006, 1.9749994, 3.4999995, 6.0, 4.6625, 2.1125002, 0.9000001, -0.66874987, -3.6593747, -6.3218746, -8.487499, -9.299999, -9.299999, -20.0, -20.0, -20.0, -20.0, -20.0, -23.8, -32.5, -39.4, -34.100002, -26.600002, -33.800003, -36.9, -40.2, -47.5, -47.5, -49.4, -52.2, -55.0, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -58.2, -53.7, -50.9, -47.4, -47.4, -33.9, -24.2, -14.6, -4.6000004, 10.4, 25.8, 32.0, 36.9, 58.300003, 58.300003, 48.9, 50.756252, 54.103127, 56.69062, 57.87539, 58.265625, 58.3, 58.3];
let ypos0 = [4.8, 4.0218754, 1.96875, -0.39374995, -2.746875, -3.8000002, -4.65, -5.3, -5.8, -6.1000004, -6.5000005, -6.9000006, -7.200001, -7.6000004, -7.925, -8.825, -9.400001, -10.1, -10.6, -10.9, -11.200001, -11.550001, -11.6, -11.55, -11.400001, -11.0, -10.200001, -9.400001, -8.400001, -8.400001, -8.400001, -10.109375, -13.020313, -15.364063, -17.1875, -17.900002, -18.7, -19.300001, -19.900002, -20.000002, -19.95, -19.800001, -19.315626, -17.421877, -14.721876, -12.364064, -10.725782, -9.900002, -8.928126, -6.453127, -3.6781263, -1.63672, -0.37578246, 0.19999886, 0.7999989, 1.2999989, 2.499999, 2.937499, 3.6734362, 4.3062487, 4.699999, 5.281249, 6.2374983, 6.912499, 7.2687488, 7.2999988, 7.2374988, 6.599999, 5.5499983, 4.312499, 3.6999989, 3.6999989, 4.8078113, 6.8503895, 9.546873, 12.359373, 14.299999, 14.899999, 14.899999, 14.899999, -19.100002, -19.100002, -19.437502, -21.050001, -22.200003, -22.900002, -24.475002, -25.300003, -26.625004, -28.912502, -29.800003, -30.600002, -31.100002, -31.500002, -31.600002, -31.550003, -31.300003, -30.750004, -29.800003, -28.912502, -26.625004, -25.300003, -24.250004, -22.300003, -21.500004, -20.637505, -19.400003, -19.100004, -19.100004, -11.200005, -2.7000046, 6.0, 15.0, 15.0, 15.0, 15.0, 3.7, 0.11874986, -3.9517584, -6.046485, -7.6496105, -8.797461, -9.526368, -9.872657, -9.900001, -9.887501, -9.362501, -8.6, -18.8, -19.375, -19.787498, -19.8, -19.724998, -18.787498, -16.837498, -13.799999, -11.799999, -19.0, -19.0, -14.4, -6.7999997, 3.0, 15.0, 15.0, 4.3999996, -4.0, -10.2, -19.0, -19.0, -19.0, -19.0, -9.4, -36.9, -36.9, -36.9, -36.9, -36.9, -35.2, -33.100002, -31.400002, -28.400002, -26.2, -23.6, -20.300001, -17.500002, -15.100002, -5.800002, -1.0, 3.6, 7.3, 11.200001, 15.000001, 18.800001, 18.800001, 18.800001, 18.800001, 1.2, 18.900002, 18.900002, 18.900002, 18.900002, 18.900002, 18.900002, 18.900002, 18.900002, 18.900002, 15.0, 15.0, 14.450001, 12.7109375, 10.1796875, 7.7181635, 5.8320312, 4.8, 4.8];

let xpos1 = [63.8, 65.65313, 68.97188, 71.521866, 72.68437, 73.06641, 73.1, 73.078125, 72.47813, 71.17266, 69.78985, 67.877335, 65.350784, 63.8, 58.0, 56.725, 55.459373, 55.0375, 55.0, 55.046875, 55.557816, 57.025, 58.4, 59.168755, 60.476562, 61.432816, 61.953125, 62.0, 72.2, 72.15703, 71.5084, 70.28261, 68.58867, 66.535545, 64.23222, 60.543747, 58.1, 56.58203, 53.760155, 51.228905, 49.02578, 47.18828, 45.753906, 44.760155, 44.24453, 44.199997, 44.209373, 44.762497, 46.135933, 47.65351, 49.805077, 52.700775, 54.499996, 59.0, 60.725, 62.028126, 62.375, 62.4, 62.340626, 61.69844, 60.554688, 59.050003, 58.2, 57.096878, 55.45156, 54.42031, 53.9375, 53.9, 43.7, 43.733597, 44.118553, 45.301563, 47.945312, 51.475, 53.5, 27.5, 41.6, 30.0, 23.1, 16.0, 4.0, 17.4, 15.799999, -0.6, -0.6, -11.3, -11.3, -12.303125, -14.815626, -17.665625, -20.553127, -21.900002, -23.489845, -26.586525, -29.504494, -32.15586, -34.452736, -36.307228, -37.631447, -38.3375, -38.4, -38.357815, -37.87617, -36.96211, -35.664845, -34.033592, -32.11758, -29.966015, -27.628128, -26.400002, -53.100002, -51.212505, -47.851566, -45.282818, -44.116215, -43.733597, -43.700005, -43.721878, -44.321877, -45.62735, -47.010162, -48.92266, -51.449223, -53.000004, -58.900005, -60.162506, -61.371883, -61.765633, -61.800007, -61.75313, -61.242195, -59.775005, -58.400005, -57.631256, -56.323444, -55.367195, -54.84688, -54.800007, -44.600006, -44.642975, -45.291603, -46.51739, -48.211334, -50.264465, -52.567783, -56.256256, -58.700005, -60.21797, -63.03985, -65.5711, -67.77422, -69.611725, -71.0461, -72.03985, -72.55547, -72.600006, -72.59063, -72.037506, -70.66407, -69.146484, -66.99493, -64.09922, -62.300007, -57.800007, -56.07501, -54.77188, -54.425003, -54.400005, -54.45938, -55.10157, -56.245316, -57.750008, -58.600006, -59.703133, -61.348442, -62.379692, -62.862503, -62.900005, -73.100006, -73.066414, -72.68145, -71.49844, -68.85469, -65.325005, -63.300007, -71.200005, -71.200005, 14.299995, 9.1, 20.6, 26.0, 73.2, 73.2, 63.8, 63.8];
let ypos1 = [14.3, 13.715626, 11.934376, 9.384375, 6.91875, 5.032031, 4.0, 3.040625, 0.43906248, -1.7394531, -3.1615233, -4.481055, -5.6265626, -6.1000004, -7.7, -8.049999, -8.935937, -9.728125, -10.2, -10.737499, -11.567187, -12.3125, -12.4, -12.36875, -11.984375, -11.196875, -9.987499, -9.2, -9.2, -10.750782, -13.437305, -15.652149, -17.42461, -18.783985, -19.759571, -20.60625, -20.7, -20.660156, -20.212502, -19.378124, -18.217972, -16.792969, -15.164063, -13.392188, -11.538281, -10.6, -9.459375, -6.548438, -4.170704, -2.6255865, -1.1888677, 0.07031196, 0.5999994, 1.9, 2.3375, 3.0734377, 3.7062497, 4.1, 4.6812496, 5.6375, 6.3125, 6.66875, 6.7, 6.6375, 6.0, 4.95, 3.7125, 3.1, 3.1, 4.207813, 6.250391, 8.946875, 11.759375, 13.699999, 14.299999, 14.299999, -19.7, -19.7, -2.2, -19.8, -19.8, 10.200001, 14.200001, 14.200001, -19.8, -19.8, -16.099998, -17.240623, -18.95625, -20.043749, -20.559374, -20.599998, -20.547655, -19.933592, -18.733593, -16.975779, -14.68828, -11.899216, -8.636717, -4.928904, -2.8999977, -1.2351539, 1.8609397, 4.6640644, 7.160159, 9.335158, 11.175003, 12.6656275, 13.792972, 14.200003, 14.200003, 13.650003, 11.91094, 9.37969, 6.918166, 5.032034, 4.000003, 3.040628, 0.43906534, -1.7394502, -3.1615205, -4.481052, -5.6265597, -6.0999975, -7.6999974, -8.049997, -8.935935, -9.728123, -10.199997, -10.737497, -11.567184, -12.312496, -12.399997, -12.368747, -11.984372, -11.196871, -9.987497, -9.199997, -9.199997, -10.750778, -13.437302, -15.652145, -17.424606, -18.783981, -19.759567, -20.606247, -20.699997, -20.660152, -20.212498, -19.37812, -18.217968, -16.792965, -15.16406, -13.392184, -11.538278, -10.599997, -9.459372, -6.5484343, -4.1707, -2.6255827, -1.1888639, 0.07031578, 0.60000324, 1.8000033, 2.2375033, 2.9734411, 3.6062531, 4.0000033, 4.581253, 5.5375032, 6.2125034, 6.5687532, 6.6000032, 6.5375032, 5.9000034, 4.8500032, 3.6125035, 3.0000033, 3.0000033, 4.107816, 6.1503944, 8.846878, 11.659378, 13.600002, 14.200003, 14.200003, 18.0, 18.0, 31.0, 31.0, 18.1, 18.1, 14.3, 14.3, 14.3];

let xpos2 = [37.3, 37.203125, 36.1625, 34.325, 31.934376, 30.599998, 29.26875, 26.90625, 25.10625, 24.09375, 24.0, 24.05, 24.6125, 25.1, 25.3, 25.5, 26.45, 27.6, 26.2, 24.6, 23.7, 16.1, 16.1, 12.700001, 13.050001, 13.400001, 13.550001, 13.700001, 13.950001, 14.200001, 14.450001, 14.700001, 14.85, 15.1, 15.35, 15.6, 15.9, 16.2, 16.5, 16.7, 16.800001, 16.900002, 17.000002, 17.000002, 17.150002, 17.200003, 17.250004, 17.300003, 17.300003, 17.300003, 17.250004, 17.100002, 17.050003, 16.900002, 16.75, 16.600002, 16.400002, 16.100002, 15.900002, 15.700003, 15.500002, 15.300003, 15.000004, 14.700003, 14.350002, 14.000003, 13.700003, 13.300003, 12.950003, 12.600003, 12.100003, 11.600003, 11.200003, 10.800003, 10.400003, 10.000003, 9.600002, 9.200003, 8.850002, 8.500003, 8.1, 7.7, 7.25, 6.7999997, 6.45, 6.1, 5.8, 5.5, 5.25, 5.0, 4.65, 4.4, 4.3, 4.2000003, 4.1000004, 4.1000004, 4.1000004, 4.1000004, 4.1000004, 4.1000004, 4.1000004, 4.1000004, 4.1000004, 4.2000003, 4.25, 4.3, 4.3500004, 4.4, 4.55, 4.6, 4.75, 4.9, 5.05, 5.1, 5.2, 5.2999997, 5.45, 5.4999995, 5.75, 6.0, 6.1499996, 6.3, 6.45, 6.6000004, 6.75, 6.9000006, 7.1, 7.3, 7.45, 7.6000004, 7.75, 7.9000006, 8.150001, 8.400001, 8.6, 8.8, 5.4, 5.4, -3.2000003, -3.2000003, -3.2351565, -3.6570315, -4.500781, -5.766406, -7.453907, -9.563282, -12.094532, -15.047657, -16.7, -17.934376, -20.821877, -23.671875, -25.389843, -26.224218, -26.5, -26.5, -37.3, -37.3, -37.3, -26.5, -26.5, -26.3875, -25.234375, -23.321875, -21.04375, -19.9, -18.871874, -16.832811, -15.126562, -14.1, -14.0, -14.0, 24.7, 25.5, 26.9, 27.8, 29.8, 32.1, 33.899998, 34.8, 36.3, 37.5, 37.5, 37.5, 37.5, 37.5, 36.3, 35.3, 33.8, 34.534374, 35.8, 36.7375, 37.253124, 37.3, 37.3];
let ypos2 = [13.0, 11.675, 9.36875, 7.64375, 6.6875, 6.6, 6.71875, 7.689062, 9.395312, 11.678125, 13.0, 14.0375, 15.9125, 16.7, 17.0, 17.300001, 18.250002, 18.900002, 18.900002, 18.900002, 18.900002, 18.900002, -15.099998, -15.099998, -15.249998, -15.399999, -15.449999, -15.599998, -15.749998, -15.899999, -16.05, -16.199999, -16.349998, -16.499998, -16.699997, -16.899998, -17.199997, -17.599998, -17.999998, -18.399998, -18.599998, -18.799997, -18.949997, -19.199997, -19.599997, -19.999996, -20.299995, -20.599997, -20.899998, -21.199997, -22.049997, -22.799997, -23.049997, -23.299997, -23.649998, -23.999998, -24.399998, -24.799997, -25.099998, -25.299997, -25.549997, -25.699997, -25.949997, -26.199997, -26.449997, -26.599997, -26.749996, -26.899996, -27.049995, -27.099997, -27.199997, -27.299997, -27.299997, -27.299997, -27.299997, -27.299997, -27.249996, -27.199997, -27.099997, -26.999996, -26.95, -26.8, -26.55, -26.3, -26.0, -25.699999, -25.399998, -25.099998, -24.8, -24.399998, -23.75, -23.0, -22.7, -22.3, -21.849998, -21.4, -21.25, -21.1, -20.9625, -20.9, -20.65, -20.4, -20.25, -20.1, -19.85, -19.6, -19.400002, -19.2, -18.900002, -18.6, -18.3, -18.1, -18.0, -17.9, -17.75, -17.6, -17.45, -17.300001, -17.1, -16.9, -16.75, -16.6, -16.45, -16.300001, -16.2, -16.1, -15.95, -15.8, -15.7, -15.6, -15.55, -15.5, -15.4, -15.3, -15.2, -15.2, -15.2, 18.8, 18.8, 0.6, -1.3343749, -4.849414, -7.92207, -10.532422, -12.660546, -14.286524, -15.3904295, -15.952344, -16.0, -15.940625, -15.2, -13.6625, -11.924609, -10.505468, -9.7, -33.1, -33.1, 18.900002, 22.7, 22.7, 3.8, 1.2312499, -2.3828125, -4.464062, -5.340625, -5.3999996, -5.3187494, -4.278125, -2.0656247, 1.4500002, 3.8000002, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.7, 22.0, 21.2, 19.900002, 18.900002, 18.900002, 18.900002, 18.900002, 18.487501, 17.320312, 15.801561, 13.996876, 13.0, 13.0];


let b1, b2, b3, b4;
let blobArray = [];

let speeds = [0.01, 0.035, 0.4, 0.47, 0.05, 0.06, 0.075, 0.15, 0.2, 0.25];

function setup() {
  createCanvas(windowWidth, windowHeight);


  color0 = color(242, 224, 213); //light light pink
  color1 = color(246, 187, 172); // samon pink
  color2 = color(239, 101, 147); // hot pink
  color3 = color(68, 94, 160); //blue-purple
  color4 = color(6, 39, 86); // dark blue -- good bkg
  color5 = color(13, 23, 46); // dark navy

  color6 = color(175, 171, 177); // gray
  color7 = color(250, 242, 237); // light beige

  //centerX, centerY, speed
  // b1 = new blob(0, 0, random(speeds));
  // b2 = new blob(0, windowHeight, random(speeds));
  // b3 = new blob(windowWidth / 2, windowHeight / 2 , random(speeds));
  // b4 = new blob(windowWidth, windowHeight, random(speeds));
  
  for(let x = 100; x < windowWidth; x += windowWidth/3){
    for(let y = 50; y < windowHeight; y +=windowHeight/5){
      blobArray.push(new blob(x, y, random(speeds)));
    }
  }

}

function draw() {
  background(color1);

  backgroundPattern();
  
//   b1.move();
//   b2.move();
//   b3.move();
//   b4.move();

//   b1.display();
//   b2.display();
//   b3.display();
//   b4.display();
  
  for(let i=0; i < blobArray.length; i++){
    blobArray[i].move();
    blobArray[i].display();
  }

}





function backgroundPattern() {
  for (let i = windowWidth / 20; i < windowWidth; i += windowWidth / 20) {
    fill(color0);
    rect(i, 0, 1, windowHeight);
  }
  for (let i = windowWidth / 20; i < windowHeight; i += windowWidth / 20) {
    fill(color0);
    rect(0, i, windowWidth, 3);
  }
}



class blob {
  constructor(centerX, centerY, speed) {

    this.shape1 = []
    this.shape2 = []
    this.shape3 = []
    this.morph = []
    for (let i = 0; i < xpos1.length; i++) {
      this.shape1.push(createVector(xpos0[i] + centerX, ypos0[i] + centerY));
      this.shape2.push(createVector(xpos1[i] + centerX, ypos1[i] + centerY));
      this.shape3.push(createVector(xpos2[i] + centerX, ypos2[i] + centerY));
      this.morph.push(createVector(0, 0));
    }
    
    // this.totalDistance = 0;
    this.state = 0;
    this.speed = speed //0.075; //orginally 0.1
    this.changeMargin = 10; //orginally 0.1
    this.shadowOffset = 13;
  }

  move() {
    this.totalDistance = 0;

    // Look at each vertex
    for (let i = 0; i < this.shape1.length; i++) {
      this.v1;
      // Are we lerping to shape1, shape2, or shape3?
      if (this.state == 0) {
        this.v1 = this.shape1[i];
      } else if (this.state == 1) {
        this.v1 = this.shape2[i];
      } else {
        this.v1 = this.shape3[i];
      }
      // Get the vertex we will draw
      this.v2 = this.morph[i];
      // Lerp to the target
      this.v2.lerp(this.v1, this.speed);
      // Check how far we are from target
      this.totalDistance += p5.Vector.dist(this.v1, this.v2);
    }

    // If all the vertices are close, switch shape
    if (this.totalDistance < this.changeMargin) {
      this.state += 1;
      if (this.state == 3) {
        this.state = 0;
      }
    }
  }

  display() {
    // ***** draw shadow *****
    translate(this.shadowOffset, this.shadowOffset);
    beginShape();
    noStroke();
    fill(color5);

    this.morph.forEach(v => {
      vertex(v.x, v.y);
    });
    endShape(CLOSE);
    
    // ***** draw shape *****
    translate(-this.shadowOffset, -this.shadowOffset);
    beginShape();
    noStroke();
    fill(color7);

    this.morph.forEach(v => {
      vertex(v.x, v.y);
    });
    endShape(CLOSE);
  }
}

</script>